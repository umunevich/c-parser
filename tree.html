<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .node circle { fill: orange; stroke: #e65c00; stroke-width: 1px; } /* яскравий колір */
        .node text { font: 12px sans-serif; pointer-events: none; }
        .link { fill: none; stroke: #888; stroke-width: 1.5px; }
    </style>
</head>
<body>
<svg width="2000" height="1200"></svg>
<script>
    d3.json("tree.json").then(function(data) {
        const svg = d3.select("svg"),
            width = +svg.attr("width"),
            height = +svg.attr("height");

        const root = d3.hierarchy(data);
        const treeLayout = d3.tree().size([width - 100, height - 100]);
        treeLayout(root);

        // Links as smooth curves
        svg.selectAll('.link')
            .data(root.links())
            .enter()
            .append('path')
            .classed('link', true)
            .attr('d', d3.linkVertical()
                .x(d => d.x + 50)
                .y(d => d.y + 50));

        const node = svg.selectAll('.node')
            .data(root.descendants())
            .enter()
            .append('g')
            .classed('node', true)
            .attr('transform', d => `translate(${d.x + 50},${d.y + 50})`);

        node.append('circle')
            .attr('r', 4);

        node.append('text')
            .attr('dy', -10)
            .attr('text-anchor', 'middle')
            .text(d => d.data.name);
    });
</script>
</body>
</html>
